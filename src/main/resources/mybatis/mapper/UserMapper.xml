<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.hw.DevHub.domain.users.mapper.UserMapper">
  <insert id="insertUser" parameterType="User">
    INSERT INTO users (email, password, name, phone_number, nickname)
    values (#{email}, #{password}, #{name}, #{phoneNumber}, #{nickname})
  </insert>

  <select id="isEmailDuplicated" parameterType="String" resultType="boolean">
    SELECT EXISTS(
        SELECT email
        FROM users
        WHERE email=#{email}
    )
  </select>

  <select id="isNicknameDuplicated" parameterType="String" resultType="boolean">
    SELECT EXISTS(
      SELECT nickname
      FROM users
      WHERE nickname=#{nickname}
    )
  </select>

  <select id="isPhoneNumberDuplicated" parameterType="String" resultType="boolean">
    SELECT EXISTS(
      SELECT phoneNumber
      FROM users
      WHERE phoneNumber=#{phoneNumber}
    )
  </select>


</mapper>